<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <style>
        body {text-align: center;}

        #profile1 {background-color: darkslategray; color: floralwhite;}
        #profile2 {background-color: darkslategray; color: floralwhite;}

        #image1 {width: 30%; height: auto;}
        #image2 {width: 30%; height: auto;}

        input {width: 120px;}
    </style>
</head>
<body>
<div id="logo">
     <img src="AddieGramLogo.png" alt="Logo of AddieGram"
     style="width: 100%;height: auto;">
</div>
<div id="profile1">
    <br>
    <h2>Profile One</h2>
    <h3 id="name1" type="text"></h3>
    <h3 id="age1" type="number"></h3>
    <h3 id="bio1" type="text"></h3>
    <h3 id="caption1" type="text"></h3>
    <h3 id="image1text" type="text"></h3>
    <img id="image1" src="(url)" alt="">
    <br><br>
</div>

<div id="profile2">
    <br>
    <h2>Profile Two</h2>
    <h3 id="name2" type="text"></h3>
    <h3 id="age2" type="number"></h3>
    <h3 id="bio2" type="text"></h3>
    <h3 id="caption2" type="text"></h3>
    <h3 id="image2text" type="text"></h3>
    <img id="image2" src="(url)" alt="">
</div>

<div>
    <iframe src="https://thunkable.site/w/S8hSlghNtlrXZEuB0eVvd" title="Profile Thunkable App" height = 725 width = 400></iframe>
</div>


<script type="module">

        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyDVphJNr9QSXqsMyC0UURP5gfqsQurUSnc",
        authDomain: "profileapp-972cf.firebaseapp.com",
        databaseURL: "https://profileapp-972cf-default-rtdb.firebaseio.com",
        projectId: "profileapp-972cf",
        storageBucket: "profileapp-972cf.appspot.com",
        messagingSenderId: "963651138188",
        appId: "1:963651138188:web:f4cb85e8fa54e1a4efc1a9",
        measurementId: "G-C4V3MKEYWT"
    };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);



    import {getDatabase, ref, get, set, child, update, remove}
        from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"

    const db = getDatabase();

    var findID = document.querySelector("#enterProfile");
    var findName1 = document.querySelector("#name1");
    var findAge1 = document.querySelector("#age1");
    var findBio1 = document.querySelector("#bio1");
    var findCaption1 = document.querySelector("#caption1");
    var findImage1 = document.querySelector("#image1");
    const image1 = document.getElementById("image1");



    var findName2 = document.querySelector("#name2");
    var findAge2 = document.querySelector("#age2");
    var findBio2 = document.querySelector("#bio2");
    var findCaption2 = document.querySelector("#caption2");
    var findImage2 = document.querySelector("#image2");
    const image2 = document.getElementById("image2");

        function FindData() {
            const dbref = ref(db);

            get(child(dbref, "JNGVeEowEugZBVhJ4u8ApYiPfrn1/"))
                .then((snapshot) => {
                    if (snapshot.exists()) {
                        findName1.innerHTML = "Name: " + snapshot.val().name;
                        findAge1.innerHTML = "Age: " + snapshot.val().age;
                        findBio1.innerHTML = "Bio: " + snapshot.val().bio;
                        findCaption1.innerHTML = "Caption: " + snapshot.val().caption;
                        findImage1.innerHTML = "Image: ";
                        image1.src = snapshot.val().image;

                    } else {
                        alert("No data found");
                    }
                })
                .catch((error) => {
                    alert(error)
                })
            get(child(dbref, "s6MT7FiwCBM53KJKIupUcbk845u1/"))
                .then((snapshot) => {
                    if (snapshot.exists()) {
                        findName2.innerHTML = "Name: " + snapshot.val().name;
                        findAge2.innerHTML = "Age: " + snapshot.val().age;
                        findBio2.innerHTML = "Bio: " + snapshot.val().bio;
                        findCaption2.innerHTML = "Caption: " + snapshot.val().caption;
                        findImage2.innerHTML = "Image: ";
                        image2.src = snapshot.val().image;
                    } else {
                        alert("No data found");
                    }
                })
                .catch((error) => {
                    alert(error)
                })

        }

    FindData();
</script>
</body>
</html>
